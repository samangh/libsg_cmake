function(get_processor RETURN_VARIABLE_NAME)
  if(CMAKE_SYSTEM_PROCESSOR MATCHES "^(x86|X86|x86_32|X86_32)$")
    set(${RETURN_VARIABLE_NAME} "X86_32" PARENT_SCOPE)
    set(X86 TRUE PARENT_SCOPE)
    set(X86_32 TRUE PARENT_SCOPE)
  elseif(CMAKE_SYSTEM_PROCESSOR MATCHES "^(amd64|AMD64|x86_64|X86_64)$")
    set(${RETURN_VARIABLE_NAME} "X86_64" PARENT_SCOPE)
    set(X86 TRUE PARENT_SCOPE)
    set(X86_64 TRUE PARENT_SCOPE)
  elseif(CMAKE_SYSTEM_PROCESSOR MATCHES "^(arm64|aarch64)$")
    set(${RETURN_VARIABLE_NAME} "ARM64" PARENT_SCOPE)
    set(ARM TRUE PARENT_SCOPE)
    set(ARM64 TRUE PARENT_SCOPE)
  elseif(CMAKE_SYSTEM_PROCESSOR MATCHES ".*(arm|ARM).*")
    set (${RETURN_VARIABLE_NAME} "ARM32" PARENT_SCOPE)
    set(ARM TRUE PARENT_SCOPE)
    set(ARM32 TRUE PARENT_SCOPE)
  endif ()
endfunction()

